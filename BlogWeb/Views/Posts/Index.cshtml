

<post-index ref="postIndex" v-show="!selected"  :init_keyword="keyword" :init_category="category"
	:init_model="model" :categories="categories" :archive_items="archives"
	v-on:details="onDetails">		
			
		    
</post-index>

<post-details :id="selected" v-if="selected" v-on:back="onBack">

	

</post-details>


@section scripts{ 
	<script>
		new Vue({
			el: '#main',
			data() {
				return {
					selected: 0,

					model: {},
					archives: [],
					categories: [],

					keyword: '',
					category:0,
				}
			},
			beforeMount() {

				this.keyword ='@Html.Raw(ViewData["keyword"])';
				this.category =@ViewData["category"];

				this.archives =@Html.Raw(ViewData["archives"]);

				this.model =@Html.Raw(ViewData["list"]);

				let categoryList =@Html.Raw(ViewData["categories"]);
				this.categories = categoryList;



			},
			methods: {
				onDetails(id) { 
					this.selected = id;
				},
				onBack() { 
					this.selected = 0;
					this.$refs.postIndex.fetchData();

				}
			}

		});
	</script>

}










